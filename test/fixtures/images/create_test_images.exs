# Script to create minimal valid test images

# Create a minimal valid PNG (1x1 red pixel)
png_data = <<
  # PNG signature
  0x89,
  0x50,
  0x4E,
  0x47,
  0x0D,
  0x0A,
  0x1A,
  0x0A,
  # IHDR chunk
  # Length: 13 bytes
  0x00,
  0x00,
  0x00,
  0x0D,
  # "IHDR"
  0x49,
  0x48,
  0x44,
  0x52,
  # Width: 800
  0x00,
  0x00,
  0x03,
  0x20,
  # Height: 600
  0x00,
  0x00,
  0x02,
  0x58,
  # Bit depth: 8
  0x08,
  # Color type: 2 (RGB)
  0x02,
  # Compression: 0
  0x00,
  # Filter: 0
  0x00,
  # Interlace: 0
  0x00,
  # CRC
  0x5B,
  0xC1,
  0x87,
  0x26,
  # IDAT chunk (minimal)
  # Length: 12 bytes
  0x00,
  0x00,
  0x00,
  0x0C,
  # "IDAT"
  0x49,
  0x44,
  0x41,
  0x54,
  0x08,
  0xD7,
  0x63,
  0xF8,
  0xCF,
  0xC0,
  0x00,
  0x00,
  0x03,
  0x01,
  0x01,
  0x00,
  # CRC
  0x18,
  0xDD,
  0x83,
  0x54,
  # IEND chunk
  # Length: 0
  0x00,
  0x00,
  0x00,
  0x00,
  # "IEND"
  0x49,
  0x45,
  0x4E,
  0x44,
  # CRC
  0xAE,
  0x42,
  0x60,
  0x82
>>

File.write!("test/fixtures/images/test.png", png_data)

# Create a minimal valid JPEG
jpeg_data = <<
  # JPEG SOI (Start of Image)
  0xFF,
  0xD8,
  # JFIF APP0 marker
  # Length: 16
  0xFF,
  0xE0,
  0x00,
  0x10,
  # "JFIF\0"
  0x4A,
  0x46,
  0x49,
  0x46,
  0x00,
  # Version 1.1
  0x01,
  0x01,
  # No units
  0x00,
  # X density: 1
  0x00,
  0x01,
  # Y density: 1
  0x00,
  0x01,
  # No thumbnail
  0x00,
  0x00,
  # SOF0 (Start of Frame, baseline DCT)
  # Length: 17
  0xFF,
  0xC0,
  0x00,
  0x11,
  # Precision: 8
  0x08,
  # Height: 500
  0x01,
  0xF4,
  # Width: 640
  0x02,
  0x80,
  # Components: 3
  0x03,
  # Component 1
  0x01,
  0x22,
  0x00,
  # Component 2
  0x02,
  0x11,
  0x01,
  # Component 3
  0x03,
  0x11,
  0x01,
  # SOS (Start of Scan) - minimal
  0xFF,
  0xDA,
  0x00,
  0x0C,
  0x03,
  0x01,
  0x00,
  0x02,
  0x11,
  0x03,
  0x11,
  0x00,
  0x3F,
  0x00,
  # Minimal scan data
  0xD2,
  0x00,
  # EOI (End of Image)
  0xFF,
  0xD9
>>

File.write!("test/fixtures/images/test.jpg", jpeg_data)

# Create a minimal valid GIF (GIF89a)
gif_data = <<
  # GIF header
  # "GIF89a"
  0x47,
  0x49,
  0x46,
  0x38,
  0x39,
  0x61,
  # Width: 320 (little-endian)
  0x40,
  0x01,
  # Height: 240 (little-endian)
  0xF0,
  0x00,
  # Global color table flag
  0x80,
  # Background color index
  0x00,
  # Pixel aspect ratio
  0x00,
  # Global color table (2 colors: black and white)
  # Black
  0x00,
  0x00,
  0x00,
  # White
  0xFF,
  0xFF,
  0xFF,
  # Image descriptor
  # Image separator
  0x2C,
  # Left: 0
  0x00,
  0x00,
  # Top: 0
  0x00,
  0x00,
  # Width: 320
  0x40,
  0x01,
  # Height: 240
  0xF0,
  0x00,
  # No local color table
  0x00,
  # Image data
  # LZW minimum code size
  0x02,
  # Data block size
  0x02,
  # Compressed data
  0x4C,
  0x01,
  # Block terminator
  0x00,
  # Trailer
  # GIF trailer
  0x3B
>>

File.write!("test/fixtures/images/test.gif", gif_data)

IO.puts("Test images created successfully!")
